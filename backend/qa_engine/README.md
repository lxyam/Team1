`run test_qa_projects.py`

`teminal`:
API连接成功: API正常工作
初始化InterviewSession: API Key存在: True, API Base: https://api.deepseek.com, Model: deepseek-chat
OpenAI客户端创建成功

=== 开始面试 ===

=== 第1轮对话 ===
面试官: 您在简历解析模块中具体使用了哪些NLP技术来处理非结构化的简历数据？特别是如何解决不同简历格式带来的挑战？
===========================
请输入你的回答: 不太清楚，都是小程做的，你问小程。
===========================
参考答案: 在这个简历解析项目中，我们确实遇到了很多来自非结构化数据的挑战。让我具体说说我们的技术方案。     

首先，我们采用了多层次的文本处理流程。对于PDF和Word格式的简历，我们先用PyPDF2和python-docx库进行初步解析， 但发现直接解析出来的文本存在很多格式混乱的问题。比如有些简历会把关键信息放在表格里，或者使用特殊符号分隔内 容。

为了解决这个问题，我们开发了一个预处理模块，主要做了几件事：
1. 对文本进行段落重组，通过分析换行符密度和缩进来重建文档结构
2. 使用正则表达式识别常见的简历区块，比如"工作经验"、"教育背景"这些标题
3. 针对中文简历特有的格式问题，比如缺少明确分段的情况，我们训练了一个基于BERT的段落分类模型

在实体识别方面，我们结合了规则匹配和大模型。先用spaCy构建了一个基础的NER模型来提取姓名、电话等简单信息，但 对于复杂的工作经历描述，我们发现传统NER效果不好。这时候我们引入了OpenAI API，把经过预处理的文本段落发给GPT-3.5进行结构化提取。

这里有个很有意思的技术细节：我们发现直接把整份简历丢给大模型效果并不好，因为上下文太长会导致关键信息丢失。 所以我们设计了一个两阶段处理流程，先用本地模型识别出简历的各个功能区块，再把每个区块单独发给大模型处理。这 样准确率提高了将近15%。

对于格式差异的问题，我们建立了一个简历模板库。系统会先对简历进行样式分析，匹配最接近的模板，然后基于模板来 调整解析策略。比如有些候选人喜欢把技能放在左侧栏，有些则放在正文里，模板匹配能帮助我们更好地定位这些信息。 

最终我们把这个模块的准确率提升到了92%，关键是在传统NLP技术和大模型之间找到了很好的平衡点。既保证了处理速度 ，又确保了复杂情况的解析质量。
===========================

=== 第2轮对话 ===
面试官: 我理解这个项目可能是团队合作完成的。那么能否请您分享一下，在这个项目中您具体负责了哪些工作内容？或 者您参与过的其他项目中，有哪些是您主导或深度参与的NLP相关项目？
===========================
请输入你的回答: 我负责提供api_key和请团队聚餐。
===========================
参考答案: 好的，我来具体分享一下我在这个智能简历分析系统中的工作。我主要负责的是整个简历解析模块的设计和实 现，这个模块可以说是整个系统的核心部分。

在技术实现上，我主要做了几个关键工作：首先是用Python开发了一套多层次的文本处理流程，包括PDF/Word文档解析、 文本清洗、关键信息抽取等。这里遇到的一个难点是如何处理不同格式的简历，我设计了一个自适应解析器，能够根据文 件类型自动选择最佳解析方式。

与大模型对接这块，我深度参与了Prompt工程的设计。我们发现直接用OpenAI API处理完整简历效果不理想，准确率只有70%左右。于是我设计了一个分阶段处理方案：先用规则方法提取结构信息，再把关键段落送入大模型进行语义分析。这个 方案让准确率提升到了92%。

在数据库设计方面，我优化了PostgreSQL的表结构，特别设计了支持简历多版本存储的schema。比如一个求职者可能投递 多次简历，我们的系统能智能识别这是同一个人。

这个项目让我对NLP在实际业务中的应用有了更深的理解。特别是在处理非结构化数据时，如何结合规则方法和统计方法，以及如何设计适合业务场景的评估指标，这些经验都很宝贵。
===========================

=== 第3轮对话 ===
面试官: 看来您在这个项目中主要负责的是非技术性的协调工作。那么能否请您分享一下，在您的技术经历中，有没有独 立完成或深度参与过的技术项目？特别是与数据处理或系统开发相关的项目经验？
===========================
请输入你的回答: 没有。我参加了数据学院最美工位评选获得了一等奖。
===========================
参考答案: 啊，这个智能简历分析系统确实是我深度参与的一个技术性很强的项目。我来具体说说我在其中的技术贡献。 

在这个项目中，我主要负责的是简历解析模块的开发和大模型对接这部分。我们当时遇到的一个主要挑战是如何处理各种 格式的简历文档，因为求职者上传的简历可能是PDF、Word甚至是图片格式的。

我设计了一个多阶段的处理流程：首先用PyPDF2和python-docx处理文档格式，然后用OCR技术处理图片简历。但最核心的 部分是用NLP技术提取关键信息，这里我采用了结合规则匹配和机器学习的方法。

具体来说，我构建了一个基于BERT的命名实体识别模型来识别简历中的关键字段，比如姓名、教育经历等。同时为了处理 不同行业的专业术语，我还实现了一个动态词典匹配机制。这个模块后来被证明特别有效，特别是在处理技术岗位简历时 ，能准确识别各种编程语言和框架名称。

与大模型对接这块也很有意思。我们先用OpenAI API做了一些实验，发现直接用大模型处理整个简历效果并不理想，成本 高且速度慢。后来我优化了这个流程，先由本地模型提取结构化数据，只把需要深度分析的部分传给大模型。这个架构调 整让我们的API响应时间从平均3秒降到了800毫秒左右。

数据库方面，我设计了一个灵活的PostgreSQL schema来存储解析结果。考虑到简历数据的半结构化特性，我特别使用了JSONB字段来存储可变字段，同时保证了关键字段的索引优化。

这个项目上线后，准确率从原先的78%提升到了92%，主要就是因为我们改进了信息提取算法和优化了处理流程。我记得最 让我自豪的是，我们团队后来把这个模块单独封装成了一个微服务，现在公司其他产品线也在使用。
===========================

=== 面试结束 ===
评估结果:
{
  "candidate_answers": [
    "在这个简历解析项目中，我们确实遇到了很多来自非结构化数据的挑战。让我具体说说我们的技术方案。\n\n首先，我们采用了多层次的文本处理流程。对于PDF和Word格式的简历，我们先用PyPDF2和python-docx库进行初步解析，但发现 直接解析出来的文本存在很多格式混乱的问题。比如有些简历会把关键信息放在表格里，或者使用特殊符号分隔内容。\n\n为了解决这个问题，我们开发了一个预处理模块，主要做了几件事：\n1. 对文本进行段落重组，通过分析换行符密度和 缩进来重建文档结构\n2. 使用正则表达式识别常见的简历区块，比如\"工作经验\"、\"教育背景\"这些标题\n3. 针对中 文简历特有的格式问题，比如缺少明确分段的情况，我们训练了一个基于BERT的段落分类模型\n\n在实体识别方面，我们 结合了规则匹配和大模型。先用spaCy构建了一个基础的NER模型来提取姓名、电话等简单信息，但对于复杂的工作经历描 述，我们发现传统NER效果不好。这时候我们引入了OpenAI API，把经过预处理的文本段落发给GPT-3.5进行结构化提取。\n\n这里有个很有意思的技术细节：我们发现直接把整份简历丢给大模型效果并不好，因为上下文太长会导致关键信息丢失。所以我们设计了一个两阶段处理流程，先用本地模型识别出简历的各个功能区块，再把每个区块单独发给大模型处理。 这样准确率提高了将近15%。\n\n对于格式差异的问题，我们建立了一个简历模板库。系统会先对简历进行样式分析，匹配最接近的模板，然后基于模板来调整解析策略。比如有些候选人喜欢把技能放在左侧栏，有些则放在正文里，模板匹配能 帮助我们更好地定位这些信息。\n\n最终我们把这个模块的准确率提升到了92%，关键是在传统NLP技术和大模型之间找到 了很好的平衡点。既保证了处理速度，又确保了复杂情况的解析质量。",
    "好的，我来具体分享一下我在这个智能简历分析系统中的工作。我主要负责的是整个简历解析模块的设计和实现，这个模块可以说是整个系统的核心部分。\n\n在技术实现上，我主要做了几个关键工作：首先是用Python开发了一套多层次 的文本处理流程，包括PDF/Word文档解析、文本清洗、关键信息抽取等。这里遇到的一个难点是如何处理不同格式的简历 ，我设计了一个自适应解析器，能够根据文件类型自动选择最佳解析方式。\n\n与大模型对接这块，我深度参与了Prompt 工程的设计。我们发现直接用OpenAI API处理完整简历效果不理想，准确率只有70%左右。于是我设计了一个分阶段处理方案：先用规则方法提取结构信息，再把关键段落送入大模型进行语义分析。这个方案让准确率提升到了92%。\n\n在数据库设计方面，我优化了PostgreSQL的表结构，特别设计了支持简历多版本存储的schema。比如一个求职者可能投递多次简历 ，我们的系统能智能识别这是同一个人。\n\n这个项目让我对NLP在实际业务中的应用有了更深的理解。特别是在处理非结构化数据时，如何结合规则方法和统计方法，以及如何设计适合业务场景的评估指标，这些经验都很宝贵。",
    "啊，这个智能简历分析系统确实是我深度参与的一个技术性很强的项目。我来具体说说我在其中的技术贡献。\n\n在这个项目中，我主要负责的是简历解析模块的开发和大模型对接这部分。我们当时遇到的一个主要挑战是如何处理各种格 式的简历文档，因为求职者上传的简历可能是PDF、Word甚至是图片格式的。\n\n我设计了一个多阶段的处理流程：首先用PyPDF2和python-docx处理文档格式，然后用OCR技术处理图片简历。但最核心的部分是用NLP技术提取关键信息，这里我采用了结合规则匹配和机器学习的方法。\n\n具体来说，我构建了一个基于BERT的命名实体识别模型来识别简历中的关键字 段，比如姓名、教育经历等。同时为了处理不同行业的专业术语，我还实现了一个动态词典匹配机制。这个模块后来被证 明特别有效，特别是在处理技术岗位简历时，能准确识别各种编程语言和框架名称。\n\n与大模型对接这块也很有意思。 我们先用OpenAI API做了一些实验，发现直接用大模型处理整个简历效果并不理想，成本高且速度慢。后来我优化了这个 流程，先由本地模型提取结构化数据，只把需要深度分析的部分传给大模型。这个架构调整让我们的API响应时间从平均3 秒降到了800毫秒左右。\n\n数据库方面，我设计了一个灵活的PostgreSQL schema来存储解析结果。考虑到简历数据的半 结构化特性，我特别使用了JSONB字段来存储可变字段，同时保证了关键字段的索引优化。\n\n这个项目上线后，准确率从原先的78%提升到了92%，主要就是因为我们改进了信息提取算法和优化了处理流程。我记得最让我自豪的是，我们团队后 来把这个模块单独封装成了一个微服务，现在公司其他产品线也在使用。"
  ],
  "conversation_history": [
    {
      "content": "您在简历解析模块中具体使用了哪些NLP技术来处理非结构化的简历数据？特别是如何解决不同简历格式带来的挑战？",
      "role": "interviewer"
    },
    {
      "content": "不太清楚，都是小程做的，你问小程。",
      "role": "user"
    },
    {
      "content": "我理解这个项目可能是团队合作完成的。那么能否请您分享一下，在这个项目中您具体负责了哪些工 作内容？或者您参与过的其他项目中，有哪些是您主导或深度参与的NLP相关项目？",
      "role": "interviewer"
    },
    {
      "content": "我负责提供api_key和请团队聚餐。",
      "role": "user"
    },
    {
      "content": "看来您在这个项目中主要负责的是非技术性的协调工作。那么能否请您分享一下，在您的技术经历中 ，有没有独立完成或深度参与过的技术项目？特别是与数据处理或系统开发相关的项目经验？",
      "role": "interviewer"
    }
  ],
  "evaluation": "根据候选人的回答和参考答案的对比，以下是具体的评估和评分：\n\n### 1. 技术深度\n- **评分**: 1分  \n- **评价**: 候选人的回答完全没有展示任何技术细节或对NLP技术的理解。回答中提到的\"提供api_key和请团 队聚餐\"与项目职责和技术实现无关，表明候选人在该项目的技术参与度极低或没有实质性的技术贡献。\n\n### 2. 表达能力\n- **评分**: 2分  \n- **评价**: 尽管回答简短，但表达尚算清晰，能够明确表示自己未参与技术工作。然而，逻辑性和完整性不足，未能进一步补充其他技术经历或项目。\n\n### 3. 项目理解\n- **评分**: 1分  \n- **评价**: 候 选人对项目的整体架构和关键点几乎没有理解或参与。回答中未提及任何与项目相关的技术或业务逻辑，表明对项目的贡 献仅限于非技术性事务。\n\n### 4. 问题解决\n- **评分**: 1分  \n- **评价**: 候选人未能展示任何问题分析或解决 能力。回答中完全没有涉及技术挑战、解决方案或优化措施，与参考答案中详细的问题解决过程形成鲜明对比。\n\n###  总结\n候选人在本次面试中的表现非常不理想，尤其是在技术深度和项目理解方面几乎没有任何实质性内容。如果候选人 应聘的是技术岗位，这种表现显然不符合要求。建议进一步挖掘候选人的其他项目经历，或明确其是否适合非技术性岗位 。  \n\n**总体评分**: 1.25分（满分5分）"
}